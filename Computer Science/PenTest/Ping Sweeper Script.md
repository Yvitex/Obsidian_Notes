# How to make a ping sweeper script
Foundation Topics : [[Network Commands]], [[File Manipulation Command]], [[Python]]

As we know, ping an address and we will continnue to communicate with the target device until we exit it using ctrl + c

![[Pasted image 20220601115841.png]]

We could iterate it only a single time using count **-c** command

![[Pasted image 20220601115927.png]]

We can now save it to a text document using the **>** command
![[Pasted image 20220601120223.png]]

We only want the address so to cut down unnecessary lines, we could use command **grep** to search the document and return the line with it such as: 
![[Pasted image 20220601120109.png]]

We can cut the string down by using **cut** command, along with delimeter **-d** (this will select the chatacter we want as a marker for the cut )and fields **-f** (specify the last character that will end the cut)
![[Pasted image 20220601120327.png]]

To remove the colon, we can use the trim or **tr** command with delimeter **-d** to specify what character to remove
![[Pasted image 20220601120808.png]]

Now, use gedit command to create [[Bash |bash]] file that will run the script named ipsweep.sh
(extension of .sh means it is a bash script)

![[Pasted image 20220601125121.png]]

- The first line states that we are running a bash script, read about [[Shebang]]

- Third line is a for loop similar to a [[Python|python syntax]] but slightly different, it uses backticks and instead of range and colon, we use seq and semi-colon and we specify do

- Fourth line commands to ping every ip address combination, where $1 is a user input and $ip is the variable from the for loop, then we trim this down using grep, cut and tr.

- 5th line is the ending marker

Run this and we get all available address
![[Pasted image 20220601125532.png]]

We can scan this address using nmap
![[Pasted image 20220601130817.png]]

for every line in the txt document, we will run an nmap with stealth scan / syn scan **-sS** in port 80 **-p 80**, the **&** allows you to run it on the background so we could still use the shell


